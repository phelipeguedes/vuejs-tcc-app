{"remainingRequest":"/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/node_modules/thread-loader/dist/cjs.js!/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/node_modules/babel-loader/lib/index.js!/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/src/components/admin/ArticleAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/src/components/admin/ArticleAdmin.vue","mtime":1594595442165},{"path":"/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1594595441009},{"path":"/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1594595442001},{"path":"/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/node_modules/babel-loader/lib/index.js","mtime":1594595440781},{"path":"/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1594595441009},{"path":"/home/phelipe/projetos/vuejs/knowledge/versao-inicial/frontend/node_modules/vue-loader/lib/index.js","mtime":1594595442041}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3BoZWxpcGUvcHJvamV0b3MvdnVlanMva25vd2xlZGdlL3ZlcnNhby1pbmljaWFsL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgVnVlRWRpdG9yIH0gZnJvbSAndnVlMi1lZGl0b3InOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FydGljbGVBZG1pbicsCiAgY29tcG9uZW50czogewogICAgVnVlRWRpdG9yOiBWdWVFZGl0b3IKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlOiAnc2F2ZScsCiAgICAgIGFydGljbGU6IHt9LAogICAgICBhcnRpY2xlczogW10sCiAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICB1c2VyczogW10sCiAgICAgIHBhZ2U6IDEsCiAgICAgIGxpbWl0OiAwLAogICAgICBjb3VudDogMCwKICAgICAgZmllbGRzOiBbewogICAgICAgIGtleTogJ2lkJywKICAgICAgICBsYWJlbDogJ0lkJywKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAnbmFtZScsCiAgICAgICAgbGFiZWw6ICdOb21lJwogICAgICB9LCB7CiAgICAgICAga2V5OiAnZGVzY3JpcHRpb24nLAogICAgICAgIGxhYmVsOiAnRGVzY3Jpw6fDo28nCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdhY3Rpb25zJywKICAgICAgICBsYWJlbDogJ0HDp8O1ZXMnCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZEFydGljbGVzOiBmdW5jdGlvbiBsb2FkQXJ0aWNsZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnRpY2xlcyI7CiAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmFydGljbGVzID0gcmVzLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5hcnRpY2xlcyk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHVybCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXJ0aWNsZXMiOwogICAgICB2YXIgbWV0aG9kID0gdGhpcy5hcnRpY2xlLmlkID8gJ3B1dCcgOiAncG9zdCc7CiAgICAgIHZhciBpZCA9IHRoaXMuYXJ0aWNsZS5pZCA/ICIvIi5jb25jYXQodGhpcy5hcnRpY2xlLmlkKSA6ICcnOwogICAgICBheGlvc1ttZXRob2RdKCIiLmNvbmNhdCh1cmwsICIvIikuY29uY2F0KGlkKSwgdGhpcy5hcnRpY2xlKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBhbGVydCgnQXJ0aWdvIHNhbHZvIGNvbSBzdWNlc3NvIScpOwoKICAgICAgICBfdGhpczIubG9hZEFydGljbGVzKCk7CiAgICAgIH0pLmNhdGNoKHRoaXMuc2hvd0Vycm9yKTsKICAgIH0sCiAgICBsb2FkQXJ0aWNsZTogZnVuY3Rpb24gbG9hZEFydGljbGUoYXJ0aWNsZSkgewogICAgICB2YXIgbW9kZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ3NhdmUnOwogICAgICB0aGlzLm1vZGUgPSBtb2RlOwogICAgICB0aGlzLmFydGljbGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBhcnRpY2xlKTsgLy8gY29uc3QgdXJsID0gYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnRpY2xlc2AKICAgICAgLy8gYXhpb3MuZ2V0KGAke3VybH0vJHthcnRpY2xlLmlkfWApLnRoZW4ocmVzID0+IHsKICAgICAgLy8gICAgIHRoaXMuYXJ0aWNsZSA9IHJlcy5kYXRhCiAgICAgIC8vIH0pCiAgICB9LAogICAgbG9hZENhdGVnb3JpZXM6IGZ1bmN0aW9uIGxvYWRDYXRlZ29yaWVzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL2NhdGVnb3JpZXMiOwogICAgICBheGlvcy5nZXQodXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuY2F0ZWdvcmllcyA9IHJlcy5kYXRhLm1hcChmdW5jdGlvbiAoY2F0ZWdvcnkpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuaWQsCiAgICAgICAgICAgIHRleHQ6IGNhdGVnb3J5Lm5hbWUKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRVc2VyczogZnVuY3Rpb24gbG9hZFVzZXJzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzIjsKICAgICAgYXhpb3MuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LnVzZXJzID0gcmVzLmRhdGEubWFwKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXM0LnVzZXJzKTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlOiB1c2VyLmlkLAogICAgICAgICAgICB0ZXh0OiAiIi5jb25jYXQodXNlci5uYW1lLCAiIC0gIikuY29uY2F0KHVzZXIuZW1haWwpCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRBcnRpY2xlcygpOwogICAgdGhpcy5sb2FkQXJ0aWNsZSgpOwogICAgdGhpcy5sb2FkQ2F0ZWdvcmllcygpOwogICAgdGhpcy5sb2FkVXNlcnMoKTsKICB9Cn07"},{"version":3,"sources":["ArticleAdmin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"article-admin\">\n        <b-form>\n            <input type=\"hidden\" v-model=\"article.id\">\n\n            <b-row>\n                <b-col md=\"12\" sm=\"12\">\n                    <b-form-group label=\"Nome\" label-for=\"article_name\">\n                        <b-form-input type=\"text\" id=\"article_name\" v-model=\"article.name\" :readonly=\"mode === 'remove'\"/>\n                    </b-form-group>\n                </b-col>\n\n                <b-col md=\"12\" sm=\"12\">\n                    <b-form-group label=\"Descrição\" label-for=\"article_description\">\n                        <b-form-input type=\"text\" id=\"article_description\" v-model=\"article.description\" :readonly=\"mode === 'remove'\"/>\n                    </b-form-group>\n                </b-col>\n\n                <b-col md=\"12\" sm=\"12\">\n                    <b-form-group label=\"Imagem (URL)\" label-for=\"article_img_url\">\n                        <b-form-input type=\"text\" id=\"article_img_url\" v-model=\"article.imgURL\" :readonly=\"mode === 'remove'\"/>\n                    </b-form-group>\n                </b-col>\n\n                <b-col md=\"12\" sm=\"12\">\n                    <b-form-group label=\"Categoria\" label-for=\"article_categoryID\">\n                        <b-form-select :options=\"categories\" v-model=\"article.categoryID\" :readonly=\"mode === 'remove'\"/>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n\n            <b-row>\n                <b-col md=\"12\" sm=\"12\">\n                    <b-form-group label=\"Autor\">\n                        <b-form-select :options=\"users\" v-model=\"article.userId\" placeholder=\"Selecione o id do usuário\" required/>\n                    </b-form-group>\n                </b-col>   \n            </b-row>\n\n            <b-form-group label=\"Conteúdo\" label-for=\"article_content\">\n                <VueEditor v-model=\"article.content\" placeholder=\"Insira o conteúdo do artigo...\"></VueEditor>\n            </b-form-group>\n            \n            <b-row>\n                <b-button variant=\"primary\" v-if=\"mode === 'save'\" class=\"ml-3 mb-4\"  @click=\"save()\">Salvar</b-button>\n                <b-button variant=\"danger\" v-if=\"mode === 'remove'\" class=\"ml-3 mb-4\" @click=\"remove()\">Excluir</b-button>\n                <b-button class=\"ml-3 mb-4\" @click=\"reset()\">Cancelar</b-button>\n            </b-row>\n        \n        </b-form>\n\n        <hr>\n\n        <b-table striped hover :items=\"articles\" :fields=\"fields\">\n            <template v-slot:cell(actions)=\"data\">\n                \n                <b-button class=\"mr-2\" variant=\"warning\" @click=\"loadArticle(data.item)\">\n                    <i class=\"fa fa-pencil\"></i>\n                </b-button>\n\n                <b-button class=\"mr-2\" variant=\"danger\" @click=\"removeArticle(data.item, 'remove')\">\n                    <i class=\"fa fa-trash\"></i>\n                </b-button>\n\n            </template>\n        </b-table>\n    </div>\n</template>\n\n<script>\n\nimport axios from 'axios'\nimport { VueEditor } from 'vue2-editor'\n \nexport default {\n    name: 'ArticleAdmin',\n    components: { VueEditor },\n    data: function() {\n        return { \n            mode: 'save',\n            article: {},\n            articles: [],\n            categories: [],\n            users: [],\n            page: 1,\n            limit: 0,\n            count: 0,\n            fields: [\n                { key:'id', label:'Id', sortable:true },\n                { key:'name', label: 'Nome' },\n                { key:'description', label: 'Descrição' },\n                { key:'actions', label:'Ações' }\n            ]\n        }\n    },\n\n    methods: {\n        loadArticles() {\n            const url = `http://localhost:3000/articles`\n\n            axios.get(url).then(res => {\n                this.articles = res.data\n                console.log(res)\n                console.log(this.articles)                \n            });\n        },\n\n        save() {\n            const url = `http://localhost:3000/articles`\n            const method = this.article.id ? 'put' : 'post'\n            const id = this.article.id ? `/${this.article.id}` : ''\n\n            axios[method](`${url}/${id}`, this.article).then(() => {\n                alert('Artigo salvo com sucesso!')\n                this.loadArticles()\n            }).catch(this.showError)\n        },\n\n        loadArticle(article, mode='save') {\n            this.mode = mode\n            this.article = { ...article }\n\n            // const url = `http://localhost:3000/articles`\n            // axios.get(`${url}/${article.id}`).then(res => {\n            //     this.article = res.data\n            // })\n        },\n\n        loadCategories() {\n            const url = `http://localhost:3000/categories`\n\n            axios.get(url).then(res => {\n                this.categories = res.data.map(category => {\n                   console.log(res)\n                   return { value: category.id, text: category.name }\n                });\n            });\n        },\n\n        loadUsers() {\n            const url = `http://localhost:3000/users`\n\n            axios.get(url).then(res => {\n                this.users = res.data.map(user => {\n                    console.log(res)\n                    console.log(this.users)\n                    return { value: user.id, text: `${user.name} - ${user.email}` }\n                });\n            });\n        }\n    }, \n    mounted() {\n        this.loadArticles()\n        this.loadArticle()\n        this.loadCategories()\n        this.loadUsers()\n    },\n}\n</script>\n\n<style>\n    table th, td {\n        text-align: center;\n    }\n</style>"],"sourceRoot":"src/components/admin"}]}