{"remainingRequest":"/home/phelipe/projetos/vuejs/tcc-app-vuejs/frontend/node_modules/babel-loader/lib/index.js!/home/phelipe/projetos/vuejs/tcc-app-vuejs/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/phelipe/projetos/vuejs/tcc-app-vuejs/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/phelipe/projetos/vuejs/tcc-app-vuejs/frontend/src/components/aluno/Aluno.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/phelipe/projetos/vuejs/tcc-app-vuejs/frontend/src/components/aluno/Aluno.vue","mtime":1595644548817},{"path":"/home/phelipe/projetos/vuejs/tcc-app-vuejs/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1594595441009},{"path":"/home/phelipe/projetos/vuejs/tcc-app-vuejs/frontend/node_modules/babel-loader/lib/index.js","mtime":1594595440781},{"path":"/home/phelipe/projetos/vuejs/tcc-app-vuejs/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1594595441009},{"path":"/home/phelipe/projetos/vuejs/tcc-app-vuejs/frontend/node_modules/vue-loader/lib/index.js","mtime":1594595442041}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvcGhlbGlwZS9wcm9qZXRvcy92dWVqcy90Y2MtYXBwLXZ1ZWpzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFBhZ2VUaXRsZSBmcm9tICIuLi90ZW1wbGF0ZXMvUGFnZVRpdGxlIjsKaW1wb3J0IHsgYXBpQmFzZVVSTCwgb25FcnJvciB9IGZyb20gIkAvZ2xvYmFsIjsgLy8gdXJsIGRhIGFwaSBkZSBhbHVub3MgZSBmdW7Dp8OjbyBkZSBlcnJvCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2FsdW5vJywKICBjb21wb25lbnRzOiB7CiAgICBQYWdlVGl0bGU6IFBhZ2VUaXRsZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGU6ICdzYXZlJywKICAgICAgYWx1bm86IHt9LAogICAgICBhbHVub3M6IFtdLAogICAgICBmaWVsZHM6IFt7CiAgICAgICAga2V5OiAnaWQnLAogICAgICAgIGxhYmVsOiAnQ8OzZCcsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogJ25vbWUnLAogICAgICAgIGxhYmVsOiAnTm9tZScsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogJ21hdHJpY3VsYScsCiAgICAgICAgbGFiZWw6ICdNYXRyw61jdWxhJwogICAgICB9LCB7CiAgICAgICAga2V5OiAnY3Vyc28nLAogICAgICAgIGxhYmVsOiAnQ3Vyc28nCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdlbWFpbCcsCiAgICAgICAgbGFiZWw6ICdFbWFpbCcKICAgICAgfSwgewogICAgICAgIGtleTogJ2FjdGlvbnMnLAogICAgICAgIGxhYmVsOiAnQcOnw7VlcycKICAgICAgfV0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBsaXN0YSB0b2RvcyBvcyBhbHVub3MKICAgIHJlYWRBbGw6IGZ1bmN0aW9uIHJlYWRBbGwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gIiIuY29uY2F0KGFwaUJhc2VVUkwsICIvYWx1bm9zIik7CiAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmFsdW5vcyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBjcmlhIG91IGF0dWFsaXphIHVtIGFsdW5vCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSAiIi5jb25jYXQoYXBpQmFzZVVSTCk7CiAgICAgIHZhciBtZXRob2QgPSB0aGlzLmFsdW5vLmlkID8gJ3B1dCcgOiAncG9zdCc7IC8vIHNlIG8gaWQgbsOjbyBmb3IgcGFzc2FkbywgdHJhdGEtc2UgZGUgdW0gaW5zZXJ0IChwb3N0KSwgc2Vuw6NvIMOpIHVtIHVwZGF0ZSAocHV0KQoKICAgICAgdmFyIGlkID0gdGhpcy5hbHVuby5pZCA/ICIvIi5jb25jYXQodGhpcy5hbHVuby5pZCkgOiAnJzsKICAgICAgYXhpb3NbbWV0aG9kXSgiIi5jb25jYXQodXJsLCAiL2FsdW5vcy8iKS5jb25jYXQoaWQpLCB0aGlzLmFsdW5vKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJHRvYXN0ZWQuZ2xvYmFsLm9uU3VjY2VzcygpOwoKICAgICAgICBfdGhpczIucmVzZXQoKTsKICAgICAgfSkuY2F0Y2gob25FcnJvcik7CiAgICB9LAogICAgLy8gY2FycmVnYSB1bSDDum5pY28gYWx1bm8KICAgIGxvYWRBbHVubzogZnVuY3Rpb24gbG9hZEFsdW5vKGFsdW5vKSB7CiAgICAgIHZhciBtb2RlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnc2F2ZSc7CiAgICAgIHRoaXMubW9kZSA9IG1vZGU7IC8vIGNvcGlhbmRvIG9zIHZhbG9yZXMgZGUgdGhpcy5hbHVubyBwLyBhbHVubwoKICAgICAgdGhpcy5hbHVubyA9IF9vYmplY3RTcHJlYWQoe30sIGFsdW5vKTsKICAgIH0sCiAgICAvLyBleGNsdWkgdW0gYWx1bm8KICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSAiIi5jb25jYXQoYXBpQmFzZVVSTCk7CiAgICAgIHZhciBpZCA9IHRoaXMuYWx1bm8uaWQ7CiAgICAgIGF4aW9zLmRlbGV0ZSgiIi5jb25jYXQodXJsLCAiL2FsdW5vcy8iKS5jb25jYXQoaWQpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJHRvYXN0ZWQuZ2xvYmFsLm9uUmVtb3ZlKCk7CgogICAgICAgIF90aGlzMy5yZXNldCgpOwogICAgICB9KS5jYXRjaChvbkVycm9yKTsKICAgIH0sCiAgICAvLyByZWluaWNpYSBvcyB2YWxvcmVzIGRvcyBjYW1wb3MgZSBvIG9iamV0byBhbHVubwogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLm1vZGUgPSAnc2F2ZSc7CiAgICAgIHRoaXMuYWx1bm8gPSB7fTsKICAgICAgdGhpcy5yZWFkKCk7CiAgICB9CiAgfSwKICAvLyBhbyBjYXJyZWdhciBhIHDDoWdpbmEsIGNoYW1hIGEgZnVuw6fDo28gcXVlIGNvbnTDqW0gYSBsaXN0YSBkZSBhbHVub3MKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5yZWFkKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Aluno.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"aluno-page\">\n        <PageTitle icon=\"fa fa-users\" main=\" Alunos\" subTitle=\"Cadastro de alunos\"></PageTitle>\n\n        <div class=\"alunos-page-tab\">\n            <b-card no-body>\n                <b-tabs card>\n                    <b-tab title=\"Alunos\" active>\n                        \n                        <b-form>\n                            <input type=\"hidden\" v-model=\"aluno.id\" id=\"aluno_id\">\n                \n                            <b-row>\n                                <b-col md=\"6\" sm=\"12\">\n                                    <b-form-group label=\"Nome\" label-for=\"aluno_name\">\n                                        <b-form-input :readonly=\"mode === 'remove'\" id=\"aluno_name\" type=\"text\" v-model=\"aluno.nome\" placeholder=\"Nome do aluno(a)\" required />                    \n                                    </b-form-group>\n                                </b-col>\n\n                                <b-col md=\"6\" sm=\"12\">\n                                    <b-form-group label=\"Matrícula\" label-for=\"matricula\">\n                                        <b-form-input :readonly=\"mode === 'remove'\" id=\"matricula\" type=\"number\" v-model=\"aluno.matricula\" placeholder=\"Matrícula do aluno(a)\" required />\n                                    </b-form-group>\n                                </b-col>                           \n                            </b-row>\n\n                            <b-row>\n                                <b-col md=\"6\" sm=\"12\">\n                                    <b-form-group label=\"Curso\" label-for=\"curso\">\n                                        <b-form-input :readonly=\"mode === 'remove'\" id=\"text\" type=\"text\" v-model=\"aluno.curso\" placeholder=\"Curso do aluno(a)\" required />\n                                    </b-form-group>\n                                </b-col>\n\n                                <b-col md=\"6\" sm=\"12\">\n                                    <b-form-group label=\"Email\" label-for=\"email\">\n                                        <b-form-input :readonly=\"mode === 'remove'\" id=\"email\" type=\"email\" v-model=\"aluno.email\" placeholder=\"Email do aluno(a)\" required />                    \n                                    </b-form-group>\n                                </b-col> \n                            </b-row>\n\n                            <b-row>\n                                <b-button variant=\"primary\" class=\"ml-3 mb-4\" v-if=\"mode === 'save'\" @click=\"save()\">Salvar</b-button>\n                                <b-button variant=\"danger\" class=\"ml-3 mb-4\" v-if=\"mode === 'remove'\" @click=\"remove()\">Excluir</b-button>\n                                <b-button class=\"ml-3 mb-4\" @click=\"reset()\">Cancelar</b-button>\n                            </b-row>\n\n                            <b-table striped hover :items=\"alunos\" :fields=\"fields\">\n                                <template v-slot:cell(actions)=\"data\">\n                                    \n                                    <b-button class=\"mr-2\" variant=\"warning\" @click=\"loadAluno(data.item)\">\n                                        <i class=\"fa fa-pencil\"></i> \n                                    </b-button>\n                                    \n                                    <b-button class=\"mr-2\" variant=\"danger\" @click=\"loadAluno(data.item, 'remove')\">\n                                        <i class=\"fa fa-trash\"></i>\n                                    </b-button>\n\n                                </template>\n                            </b-table>\n\n                        </b-form>\n\n                    </b-tab>\n                </b-tabs>\n            </b-card>\n        </div>\n        \n    </div>\n</template>\n\n<script>\n\nimport PageTitle from \"../templates/PageTitle\"\nimport { apiBaseURL, onError } from \"@/global\"; // url da api de alunos e função de erro\nimport axios from 'axios';\n\nexport default {\n    name: 'aluno',\n    components: { PageTitle },\n    \n    data: function() {\n        return {\n            mode: 'save',\n            aluno: {},\n            alunos: [],\n            fields: [\n                {key: 'id', label: 'Cód', sortable: true},\n                {key: 'nome', label: 'Nome', sortable: true},\n                {key: 'matricula', label: 'Matrícula'},\n                {key: 'curso', label: 'Curso'},\n                {key: 'email', label: 'Email'},\n                {key: 'actions', label: 'Ações'}\n            ]\n        }\n    },\n\n    methods: {\n\n        // lista todos os alunos\n        readAll() {  \n            const url = `${apiBaseURL}/alunos`;\n\n            axios.get(url)\n                .then(res => {\n                    this.alunos = res.data\n            });\n        },\n\n        // cria ou atualiza um aluno\n        save() {\n            const url = `${apiBaseURL}`; \n            const method = this.aluno.id ? 'put' : 'post' // se o id não for passado, trata-se de um insert (post), senão é um update (put)\n            const id = this.aluno.id ? `/${this.aluno.id}` : ''\n            \n            axios[method](`${url}/alunos/${id}`, this.aluno)\n                .then(() => {\n                    this.$toasted.global.onSuccess();\n                    this.reset();\n                }).catch(onError)\n        },\n\n        // carrega um único aluno\n        loadAluno(aluno, mode='save') {\n            this.mode = mode;\n            // copiando os valores de this.aluno p/ aluno\n            this.aluno = { ...aluno };\n        },\n\n        // exclui um aluno\n        remove() {\n            const url = `${apiBaseURL}`;\n            const id = this.aluno.id;\n            \n            axios.delete(`${url}/alunos/${id}`)\n                .then(() => {\n                    this.$toasted.global.onRemove();\n                    this.reset();\n                }).catch(onError);\n        },\n\n        // reinicia os valores dos campos e o objeto aluno\n        reset() {\n            this.mode = 'save';\n            this.aluno = {};\n            this.read();\n        },\n\n    },\n\n    // ao carregar a página, chama a função que contém a lista de alunos\n    mounted() {\n        this.read();\n    },\n}\n</script>\n\n<style>\n    \n</style>"],"sourceRoot":"src/components/aluno"}]}